import{a as $}from"./chunk-RNBGJWSO.js";import{a as W}from"./chunk-UQIJAAKI.js";import"./chunk-N5GVGQ4K.js";import"./chunk-J6TDGA35.js";import"./chunk-QUJFQN2Y.js";import"./chunk-7SZ5I7WP.js";import"./chunk-ACCAO4MD.js";import"./chunk-5JK572SR.js";import"./chunk-Q6ZAM2NN.js";import"./chunk-D4FXQO5S.js";import"./chunk-DQ5ZCVVT.js";import"./chunk-IACAUHTZ.js";import"./chunk-3PBEGTIV.js";import"./chunk-7IJ7AO6C.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-KIHU62J2.js";import"./chunk-CKP3SGE2.js";import"./chunk-QWR7HY4T.js";import{C as L,b as N,e as B,f as G,i as M,m as P,o as H,p as D,r as O,s as V,v as q,w as K}from"./chunk-GVFFSMFN.js";import"./chunk-JAJGNRWB.js";import{Aa as y,Ab as A,B as g,K as S,L as v,M as w,N as I,O as b,P as d,Q as e,R as t,S as p,Z as _,ha as r,ia as R,k as m,lb as c,mb as C,nb as E,ob as F,qb as u,sb as j,tb as T,ub as x,y as n,ya as k}from"./chunk-LTL7P2HV.js";import"./chunk-EULJA4UZ.js";import"./chunk-EQMUS7GP.js";import"./chunk-G4GOZ2R2.js";import"./chunk-G3OIN57Y.js";import"./chunk-6YG4V6SN.js";import"./chunk-AH6ETBBK.js";import"./chunk-FKHQKLCL.js";import"./chunk-EGVB773T.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{j as h}from"./chunk-VI73JOY6.js";function z(i,o){if(i&1&&(e(0,"ion-select-option",4),r(1),t()),i&2){let f=o.$implicit;d("value",f),n(),R(f)}}function J(i,o){i&1&&p(0,"ion-spinner")}function Q(i,o){i&1&&(e(0,"span"),r(1,"Add Reward"),t())}var ae=(()=>{let o=class o{constructor(){this.router=m(y),this.route=m(k),this.kidsStore=m($),this.errorHandler=m(W),this.kidId=null,this.loading=!1,this.emojis=["\u2B50","\u{1F44D}","\u{1F44F}","\u{1F389}","\u{1F3C6}","\u2764\uFE0F","\u{1F44E}","\u{1F620}","\u{1F494}"],this.addRewardForm=new F({emoji:new u("",c.required),is_good:new u(!0,c.required)})}ionViewWillEnter(){this.kidId=this.route.snapshot.paramMap.get("kidId")}onSubmit(){return h(this,null,function*(){if(!(this.addRewardForm.invalid||!this.kidId)){this.loading=!0;try{if(!this.kidId)return;let l={kid_id:this.kidId,emoji:this.addRewardForm.value.emoji,is_good:this.addRewardForm.value.is_good};yield this.kidsStore.addReward(l),this.router.navigate(["/tabs/kids-list"])}catch(l){this.errorHandler.handleError(l),this.loading=!1}}})}};o.\u0275fac=function(s){return new(s||o)},o.\u0275cmp=g({type:o,selectors:[["app-reward-add"]],decls:25,vars:5,consts:[["slot","start"],[3,"ngSubmit","formGroup"],["position","stacked"],["formControlName","emoji","interface","action-sheet"],[3,"value"],["formControlName","is_good","interface","action-sheet"],["type","submit","expand","block",3,"disabled"]],template:function(s,a){s&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),p(3,"ion-back-button"),t(),e(4,"ion-title"),r(5,"Add Reward"),t()()(),e(6,"ion-content")(7,"form",1),_("ngSubmit",function(){return a.onSubmit()}),e(8,"ion-item")(9,"ion-label",2),r(10,"Emoji"),t(),e(11,"ion-select",3),I(12,z,2,2,"ion-select-option",4,w),t()(),e(14,"ion-item")(15,"ion-label",2),r(16,"Type"),t(),e(17,"ion-select",5)(18,"ion-select-option",4),r(19,"Good"),t(),e(20,"ion-select-option",4),r(21,"Bad"),t()()(),e(22,"ion-button",6),S(23,J,1,0,"ion-spinner")(24,Q,2,0,"span"),t()()()),s&2&&(n(7),d("formGroup",a.addRewardForm),n(5),b(a.emojis),n(6),d("value",!0),n(2),d("value",!1),n(2),d("disabled",a.addRewardForm.invalid||a.loading),n(),v(a.loading?23:24))},dependencies:[A,j,C,E,T,x,M,B,P,K,q,N,G,H,D,V,L,O],styles:["ion-select[_ngcontent-%COMP%]{width:100%}ion-button[_ngcontent-%COMP%]{margin-top:20px}"]});let i=o;return i})();export{ae as RewardAddPage};
