import{c as L,e as k,f as R,g as T,h as M,r as D,v as j,w as A,x as U}from"./chunk-N5GVGQ4K.js";import{b as V}from"./chunk-JAJGNRWB.js";import{Aa as S,B as w,Ba as b,F as m,Fa as E,K as p,L as f,P as h,Q as a,R as o,Y as I,Z as v,_ as C,ha as n,ja as g,n as x,o as _,ta as y,va as P,y as s,z as d}from"./chunk-LTL7P2HV.js";import{j as u}from"./chunk-VI73JOY6.js";function B(e,t){e&1&&(a(0,"ion-button",2),n(1," Reset Password "),o())}function N(e,t){if(e&1&&(a(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),n(3,"User Profile"),o()(),a(4,"ion-card-content")(5,"p")(6,"strong"),n(7,"Email:"),o(),n(8),o(),a(9,"p")(10,"strong"),n(11,"User ID:"),o(),n(12),o(),p(13,B,2,0,"ion-button",2),o()()),e&2){let l=C();s(8),g(" ",l.user.email),s(4),g(" ",l.user.id),s(),f(l.showResetPassword?13:-1)}}function O(e,t){if(e&1){let l=I();a(0,"ion-button",3),v("click",function(){x(l);let i=C();return _(i.logout())}),n(1,` Logout
`),o()}}function F(e,t){e&1&&(a(0,"ion-card")(1,"ion-card-content")(2,"ion-text",4),n(3,"No user is currently logged in."),o()()())}var X=(()=>{let t=class t{constructor(r,i,c){this.authService=r,this.alertController=i,this.router=c,this.showLogout=!1,this.showResetPassword=!1,this.user=null}ngOnInit(){return u(this,null,function*(){let{data:r}=yield this.authService.getSession();this.user=r.session?.user??null})}logout(){return u(this,null,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Logout",message:"Are you sure you want to logout?",buttons:[{text:"Cancel",role:"cancel",cssClass:"primary",handler:i=>{}},{text:"Logout",handler:()=>{this.authService.signOut().then(()=>this.router.navigateByUrl("/auth/login"))}}]})).present()})}};t.\u0275fac=function(i){return new(i||t)(d(V),d(A),d(S))},t.\u0275cmp=w({type:t,selectors:[["app-profile-card"]],inputs:{showLogout:"showLogout",showResetPassword:"showResetPassword"},decls:3,vars:3,consts:[[4,"ngIf"],["expand","block","color","danger"],["expand","block","fill","clear","routerLink","/auth/reset-password"],["expand","block","color","danger",3,"click"],["color","medium"]],template:function(i,c){i&1&&(m(0,N,14,3,"ion-card",0),p(1,O,2,0,"ion-button",1),m(2,F,4,0,"ion-card",0)),i&2&&(h("ngIf",c.user),s(),f(c.showLogout?1:-1),s(),h("ngIf",!c.user))},dependencies:[P,y,U,L,k,R,T,M,D,j,E,b],encapsulation:2});let e=t;return e})();export{X as a};
