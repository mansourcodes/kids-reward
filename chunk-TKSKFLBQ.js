import{c as b,e as L,f as T,g as k,h as P,q as M,v as j,w as A}from"./chunk-OSSUTZ33.js";import{b as D}from"./chunk-2XCPYOPQ.js";import{Aa as E,B as h,F as _,K as x,L as I,P as m,Q as a,R as n,Y as v,Z as y,_ as p,ha as o,ja as f,n as g,o as C,ta as w,va as S,y as c,z as d}from"./chunk-RJ6X7B6G.js";import{j as u}from"./chunk-VI73JOY6.js";function U(e,t){if(e&1){let l=v();a(0,"ion-button",2),y("click",function(){g(l);let i=p(2);return C(i.logout())}),o(1," Logout "),n()}}function V(e,t){if(e&1&&(a(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),o(3,"User Profile"),n()(),a(4,"ion-card-content")(5,"p")(6,"strong"),o(7,"Email:"),n(),o(8),n(),a(9,"p")(10,"strong"),o(11,"User ID:"),n(),o(12),n(),x(13,U,2,0,"ion-button",1),n()()),e&2){let l=p();c(8),f(" ",l.user.email),c(4),f(" ",l.user.id),c(),I(l.showLogout?13:-1)}}function B(e,t){e&1&&(a(0,"ion-card")(1,"ion-card-content")(2,"ion-text",3),o(3,"No user is currently logged in."),n()()())}var G=(()=>{let t=class t{constructor(r,i,s){this.authService=r,this.alertController=i,this.router=s,this.showLogout=!1,this.user=null}ngOnInit(){return u(this,null,function*(){let{data:r}=yield this.authService.getSession();this.user=r.session?.user??null})}logout(){return u(this,null,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Logout",message:"Are you sure you want to logout?",buttons:[{text:"Cancel",role:"cancel",cssClass:"primary",handler:i=>{}},{text:"Logout",handler:()=>{this.authService.signOut().then(()=>this.router.navigateByUrl("/auth/login"))}}]})).present()})}};t.\u0275fac=function(i){return new(i||t)(d(D),d(j),d(E))},t.\u0275cmp=h({type:t,selectors:[["app-profile-card"]],inputs:{showLogout:"showLogout"},decls:2,vars:2,consts:[[4,"ngIf"],["expand","block","color","danger"],["expand","block","color","danger",3,"click"],["color","medium"]],template:function(i,s){i&1&&_(0,V,14,3,"ion-card",0)(1,B,4,0,"ion-card",0),i&2&&(m("ngIf",s.user),c(),m("ngIf",!s.user))},dependencies:[S,w,A,b,L,T,k,P,M],encapsulation:2});let e=t;return e})();export{G as a};
